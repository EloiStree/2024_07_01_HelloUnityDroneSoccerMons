
Alors aujourd'hui... On va mettre la main dans le cambuis.

Si vous désirez faire un jeu multijouer local ou à moins de 300 joueurs sous Unity, vous pouvez:
- Créér tout de A-z avec du Tcp ou de l'Udp
- Créér en utilisant MQTT et autres services
- Créér en utilisant des assets payants comme TNet
- Créér en utilisant Mirror qui est open source et gratuit
- Faire le server dans un langage spécialisé et le client en Unity
- ...
  
Mais si vous désirez savoir adapter votre jeu de 10 joueurs à 10.000+ joueurs:
![image](https://github.com/EloiStree/2024_07_01_HelloUnityDroneSoccerMons/assets/20149493/d6e2162b-613d-4586-9f54-eeb802d0e288)
- Utiliser Photon https://www.photonengine.com/pun
- Utiliser UNet server Hosting: https://unity.com/fr/products/game-server-hosting
- Engagez un spécialisez full time pour mettre en place des serveurs et du matchmaking


Dans notre cas, nous avons des clients belgent et c'est souvent des centres d'acrades ou des projets de petites tailles.
Mirror et les websockets c'est largement suffisant pour votre début de carrière.
Tout du moins pour apprendre les bases.


Dans l'exercice d'aujourdhui nous allons explorer les fonctionnements de Mirror qui sont similaire en TNet, Photon et UNet.

Doucement, nous allons explorer comment le projet. Pour s'orianté gentilemment vers les astéroides qui est un cas particulier du projet.
Faire un jeu multijouer LAN est facile car il n'y a que 2-12 joueurs sur un réseaux avec peu de delay mais surtout sans coup server.
- Sur Azure, **chaque bytes** vous coutera de l'argent
- Sur un server à vous, chaque bytes condensera et ralentir votre bandepassante.
- Sur les deux, avoir serveur mutlijoueur qui tourne 24h/24 vous coutera des Tera bytes de données.

Il faut donc penser le jeu dès le début pour avoir du gameplay ne nécessistant pas une envoi continue de données !

Les asteroides est un bon example, car elles sont créé avec un point de départ et un évènement de destructions.
Il n 'y a donc que:
- 20-80 bytes * asteroide * joueurs
contre
- 10(FPS) * ( 4 (Float) * 7 (Position et rotation) bytes * seconds de vie * joueurs


L'avantage de se concentré sur les asteroides est que ça va aussi me donner l'occasion de vous parler optimisations et multi-threading (MOuaahahha)


L'exercice pratique de cette après midi est simple.
Sur votre client d'hier (UDP) ou d'aujourd'hui (Mirror), écouter à l'apparision d'asteroides.
Et via le Job System de Unity que nous allons voir ensemble.

Permetter à votre drone de les éviter !!!


Ne laissez pas l'exercice de côté car le cours de jeudi, demain, c'est pratiquer les "Level of Details" sur les astéroides avec le job système.
Ou les computes shader pour les plus théméraire.



Règles du jeu pour aujourd'hui et demain:
- Chaque N seconds, X astéroides sont ajoutée à la partie.
- Une fois tout les joueurs touchés, la partie prend fin
- Celui avec le meilleur score de temps de survie gagne.

 
Que le code soit avec vous et bonne chance.


--------------------------

```









```
--------------------------

# Mirror

- Example of Mirror with Drone classic: https://assetstore.unity.com/packages/tools/network/mirror-129321
- Example of Mirror on several project by package (Don't do at home): Add. 


# Job system

## Add Mesh Triangle example

## Add LOD Bullet Hell example
